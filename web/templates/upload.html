<!-- Salsabil's code from line 3 - 51 -->

{% extends 'template.html' %}

<!-- Anything you put here will be in the HTML head tags-->
{% block head %}
<script class="jsbin" src="https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
<script src="../static/js/upload.js"></script>

<script>
  $(function () {
  let $uploadButton = $("#uploadButton");

    $uploadButton.click(function () {
      var size = $("#fileUpload")[0].files[0].size;
      size = size / 1048576;

      if (size > 1){
        alert("File is too large!")
        location.reload();
        return false;
      }

      return (true)
  });

});
</script>

<script>
  $(function () {
  let $uploadButton = $("#uploadButton");

    $uploadButton.click(function () {
      let $fileName = $("#fileUpload");

      var fileExtension = ['csv'];

      if ($.inArray($fileName.val().split('.').pop().toLowerCase(), fileExtension) == -1) {
          alert("Only formats are allowed : "+fileExtension.join(', '));
          location.reload();
          return false;
      }

      return (true);
  });

});
</script>

{% endblock %}

<!-- Anything you put here will be in the body-->
{% block body %}
<br>
<br>
<body style="background-image: url('../static/images/library.jpg'); background-repeat: no-repeat; background-size:cover;">
  
  <div class="col-sm-3">
    <!-- Empty column of size 3. Left of box. -->
  </div>

  <div class = "center-screen col-sm-6">
    <div style="border-radius: 25px; padding: 10px; background-color: rgba(60, 65, 70, 0.8); " >
      <h1 style="text-align: center; color: aliceblue;">Upload List of DOIs</h1>
  
      <!-- Drag and drop form for uploading files   -->
      <form action="{{ url_for('upload') }}" method="POST" enctype="multipart/form-data">
          <div style="color:black;" class="image-upload-wrap">
            <input class="file-upload-input" id="fileUpload" name="csv/json" type='file' onchange="readURL(this);" accept=".csv" />
            <div class="drag-text">
              <h3 style="color:aliceblue;">Drag and drop a file or Select Box</h3>
            </div>
          </div>
          
          <div class="file-upload-content">
            <div class="image-title-wrap">
              <!-- Display message after clicking submit -->
              <button type="submit" id="uploadButton" input onchange="uploadMessage()" class="file-upload-btn" type="file">Upload File</button>
            </div>
          </div>

        </form>
    </div>  
  </div>

  <div class="col-sm-3">
    <!-- Empty column of size 3. Right of box. -->
  </div>
</body>

{% endblock %}